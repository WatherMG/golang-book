# 10.6. Пакеты и именование

В этом разделе мы предложим несколько советов о том, как следовать соглашениям Go для именования пакетов и их членов.
При создании пакета его имя следует делать **коротким**, но не настолько, чтобы оно стало непонятным. Наиболее часто
используемые пакеты стандартной библиотеки имеют
имена `bufio`, `bytes`, `flag`, `fmt`, `http`, `io`, `json`, `os`, `sort`, `sync` и `time`.

Где это возможно, используйте **описательные и недвусмысленные имена**. Например, не именуйте пакет утилит как `util`,
при том что более конкретное имя `imageutil` или `ioutil` является вполне кратким. Не выбирайте имена пакетов, которые
обычно используются для локальных переменных или могут заставить клиентов воспользоваться переименованием импорта, как в
случае пакета `path`.

Обычно имена пакетов являются словами в **единственном числе**. Стандартные пакеты `bytes`, `errors` и `strings`
используют множественное число, чтобы **избежать сокрытия соответствующих предопределенных типов** и, в
случае `go/types`, избежать конфликта с **ключевым словом**.

Избегайте имен пакетов, которые уже имеют другой смысл. Например, первоначально мы использовали для пакета
преобразования температуры в разделе 2.5 имя `temp`, но это была ужасная идея, потому что `“temp”` является почти что
синонимом для слова `"временный"`. Какое-то время мы использовали имя `temperature`, но оно было слишком длинным и не
поясняло, что именно делает пакет. В конце концов пакет получил имя `tempconv`, которое короче и похоже на `strconv`.

Теперь давайте обратимся к именованию членов пакета. Поскольку каждая ссылка на член другого пакета использует
квалифицированный идентификатор, такой как `fmt.Println`, бремя описания члена пакета в равной мере возложено как на имя
пакета, так и на имя члена. Мы не должны упоминать концепцию форматирования в имени `Println`, потому что это уже делает
имя пакета `fmt`. При проектировании пакета рассмотрите, как работают вместе обе части квалифицированного
идентификатора, а не только имя члена. Вот несколько характерных примеров:

``` go
bytes.Equal 
flag.Int 
http.Get 
json.Marshal
```

Мы можем выявить некоторые распространенные шаблоны именования. Пакет `strings` предоставляет ряд независимых функций
для работы со строками:

``` go
package strings

func Index(needle, haystack string) int

type Replacer struct{ /*...*/}
func NewReplacer(oldnew ...string) *Replacer

type Reader struct{ /*...*/} 
func NewReader(s string) *Reader
```

Слово `string` в любом из этих имен отсутствует. Клиенты обращаются к ним как к `strings.Index`, `strings.Replacer` и
т.д.

Другие пакеты, которые мы могли бы описать как пакеты одного типа, такие как `html/template` и `math/rand`,
предоставляют один главный тип данных плюс его методы и зачастую функцию `New` для создания его экземпляров.

``` go
package rand // "math/rand"

type Rand struct{ /*...*/} 
func New(source Source) *Rand
```

Это может привести к **повторению**, такому как `template.Template` или `rand.Rand`; именно поэтому имена пакетов такого
рода часто являются особенно короткими.

С другой стороны есть такие пакеты, как `net/http`, которые имеют много имен без особой структуры, поскольку выполняют
сложные задачи. Несмотря на наличие более 20 типов и гораздо большего количества функций, наиболее важные члены пакета
имеют простейшие имена: `Get`, `Post`, `Handle`, `Error`, `Client`, `Server`.

## Выводы:

* Имена пакетов должны быть **короткими и понятными**; например, стандартные библиотеки Go используют
  имена `bufio`, `bytes`,
  `flag`, `fmt`, `http`, `io`, `json`, `os`, `sort`, `sync` и `time`;
* Лучше использовать описательные и недвусмысленные имена для пакетов, чтобы облегчить понимание их функций,
  например `imageutil` или `ioutil` вместо просто `util`;
* Обычно имена пакетов являются словами в **единственном числе**, хотя есть исключения, например, `bytes`, `errors`
  и `strings`;
* Нужно избегать **дублирования или конфликта имен пакетов** с другими смыслами, чтобы не возникло путаницы;
* При именовании членов пакета нужно учитывать, что **их имена будут использоваться совместно с именами пакетов**,
  поэтому они должны быть гармоничными и логичными;
* Для функций и структур внутри пакетов лучше использовать краткие и лаконичные имена, которые отражают их назначение,
  например: `bytes.Equal`, `flag.Int`, `http.Get`, `json.Marshal`;
* В некоторых пакетах, таких как `strings`, имена функций и структур не содержат слово `"string"`, поскольку оно
  подразумевается в названии пакета;
* Пакеты, предоставляющие основной тип данных и его методы, иногда имеют короткие имена, чтобы избежать стилистического
  повторения, например: `template.Template` или `rand.Rand`;
* Для сложных пакетов, таких как `net/http`, можно использовать простые и основные имена для наиболее важных членов
  пакета, например: `Get`, `Post`, `Handle`, `Error`, `Client`, `Server`. 