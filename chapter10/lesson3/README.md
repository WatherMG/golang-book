# 10.3 Объявления пакета

Объявление `package` требуется в начале каждого исходного файла Go. Его главная цель — **определить идентификатор по
умолчанию для этого пакета** (называемый именем пакета) при его импорте в другой пакет.
Например, каждый файл пакета `math/rand` начинается с `package rand`, так что, импортируя этот пакет, вы можете
обращаться к
его членам как к `rand.Int`, `rand.Float64` и т.д.

```go
package main

import (
	"fmt"
	"math/rand"
)

func main() {
	fmt.Println(rand.Int())
}
```

По соглашению **имя пакета представляет собой последнюю часть пути импорта**, и в результате два пакета могут иметь одно
и то же имя, **хотя их пути импорта различны**. Например, пакеты с путями импорта `math/rand` и `crypto/rand` имеют
имя `rand`. Далее мы увидим, как одновременно использовать оба пакета в одной и той же программе.

Существует **три основных исключения из соглашения** о последней части:

* Во-первых, пакет, определяющий команду (`выполнимую программу Go`), всегда имеет имя `main` независимо от пути импорта
  пакета. Это сигнал для `go build` (раздел 10.7.3) о том, что он должен вызывать компоновщик для создания выполнимого
  файла.
* Во-вторых, некоторые файлы в каталоге могут иметь суффикс `_test` в имени пакета, если имя файла заканчивается
  на `_test.go`. Такой каталог может определять два пакета: `обычный` и еще
  один, `именуемый пакетом внешнего тестирования`. Суффикс `_test` сигнализирует `go test` о том, что **надо построить
  оба пакета**, и указывает, какие файлы принадлежат к каждому из пакетов. Пакеты внешнего тестирования используются,
  **чтобы избежать циклов в графе импорта**, получающихся из зависимостей теста; более подробно этот вопрос
  рассматривается в разделе 11.2.4.
* В-третьих, некоторые инструменты для управления зависимостями добавляют `суффикс с номером версии` в путь импорта
  пакета, такой как `gopkg.in/yaml.v2`. Суффикс из имени пакета **исключается**, так что в данном случае имя пакета —
  просто `yaml`.

## Выводы:

* Объявление `package` определяет **идентификатор по умолчанию** для пакета при его импорте в другой пакет; это
  позволяет упростить обращение к членам пакета через идентификатор, например, `rand.Int` для пакета `math/rand`;
* Имя пакета по соглашению `является последней частью пути импорта`, что позволяет иметь разные пакеты с одинаковыми
  именами, но разными путями импорта, упрощая их использование;
* Пакет с именем `main` определяет команду `(выполнимую программу Go)`, что сигнализирует инструментам Go о
  необходимости создания исполняемого файла;
* Файлы с суффиксом `_test` в имени пакета определяют **пакеты для внешнего тестирования**, что позволяет избежать
  циклов в графе импорта и облегчает тестирование кода;
* `Инструменты управления зависимостями` могут добавить `суффикс с номером версии в путь импорта пакета`, и этот суффикс
  **следует исключать из имени пакета** для упрощения использования. 